<!DOCTYPE html>
<html lang=en>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Kaveh v0.3" />
<meta name="description" content="Kaveh is a simple website generator, it aims to generate static html files from markdown files, no databases and bloat-web, just texts.">
<link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAFxAAABcQG7iuH0AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhVJREFUOI2FkU1IlHEQxn/z33fbJSIIDx0ioUChj0Mm7R7KNRc7SAUdyiDCDoqXCC9BeKpTHYRIyFMRBBWEUFCgh0rIbFM3lKAsSKJLEn2Z7Yfr7vvOdAjD6FXnNPA8/GaeGVilekZS7ReG9x9ZTnerAVSkLUC6ukaaq8N0b2K6tm12IRbJ+7FM3pfGQhCd7ExksgCXM+lNvgXbRfgW8e080P4fwIxzgnb7lAtYLA52v29039uyCmrBekzuOvEuQnAtdAPBvqR3vHkAcHsyOUggxwz6/6STaoQ4sfhP8oXQiB7A0NTOR3OVNRR9dSbulcGsAGBxjG4tFtLAdChgd837ppWO2PO88ThwCywapq/6BcOGxGyX4rJhuiw298YSVcWoNhUqUamok4q6M4G5kgI5dRRVbuR811wwV8j57lk+gLzKd28RoGs0iUqfc1wydQEic2f3Pj20dFrnk/S4mdzE6WsJJCniGv5GOFr3csBBB0ariwSjK2R6B2DiNqsj9c8NTtRnHwaqp0wjvcsCxFpN3ZaqwrqW7MGBzxLmuTqWqPI13m++dpSABeLMAfMlqn9Bx50Dj08uer0wwOnE+I/eTMMLdZEhD4ZLfjAvJntU3AxwZak3EgbY0JLcKM59UnN1anZ9Qdxw2WRrGRlcUD5sO1z/dap/ypbdwMOrr5hLgUyISEoCQYwZjNoIria3tvgRmAX4DdT85ywDHCURAAAAAElFTkSuQmCC">
<title>Kaveh</title>
<style>
html{overflow-y:scroll;}body{background-color:#fafafa;color:#333;margin:0 auto;padding:1ex;max-width:80ex;font-family:sans-serif;line-height:1.6;}img{display:block;margin:0 auto;max-width:100%;height:auto;}.code-block{background-color:#f5f5f5;border:1px solid #d0d0d0;border-radius:4px;margin:1em 0;overflow:hidden;}.code-block pre{margin:0;padding:1em;overflow-x:auto;}.code-block code,pre{font-family:monospace;background-color:#f0f0f0;border:1px solid #ccc;border-radius:6px;padding:1em;margin:1em 0;font-size:1em;line-height:1.5;color:#222;white-space:pre-wrap;word-wrap:break-word;overflow-x:visible;}p code,li code,td code,blockquote code{display:inline;padding:2px 4px;border:1px solid #d0d0d0;background-color:#e8e8e8;border-radius:3px;}h1,h2,h3,h4,h5,h6,h7{line-height:1.2;margin-top:1.5em;margin-bottom:0.5em;}.heading-with-anchor{position:relative;}.heading-anchor{position:absolute;left:-1.5em;top:50%;transform:translateY(-50%);text-decoration:none;opacity:0;padding-right:0.5em;transition:opacity 0.2s ease;display:inline-flex;align-items:center;}.heading-anchor .octicon{fill:#ccc;display:block;}.heading-with-anchor:hover .heading-anchor{opacity:1;}.heading-anchor:hover .octicon{fill:#0066cc;}table{border-collapse:collapse;width:100%;margin:1em 0;table-layout:fixed;}table td,table th{border:1px solid #ccc;padding:8px 12px;text-align:center;vertical-align:center;}table tr:nth-child(even){background-color:#f9f9f9;}table td code,table th code{overflow-wrap:anywhere;word-break:break-all;white-space:normal;}blockquote{border-left:4px solid #d0d0d0;margin:1em 0;padding-left:1em;color:#555;}hr{border:none;border-top:2px solid #ccc;margin:2em 0;}ul.task-list{list-style:none;padding-left:0;}ul.task-list li.task-list-item{padding-left:1.5em;}ul.task-list input[type="checkbox"]{margin-left:-1.5em;margin-right:0.5em;}mark{background-color:#ffff00;padding:2px 0;}del{text-decoration:line-through;opacity:0.7;}sub,sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}.footnotes{margin-top:2em;padding-top:1em;border-top:1px solid #ccc;font-size:0.9em;}.footnotes ol{padding-left:1.5em;}dl{margin:1em 0;}dt{font-weight:bold;margin-top:0.5em;}dd{margin-left:2em;margin-bottom:0.5em;}a{color:#0066cc;text-decoration:none;}a:hover{text-decoration:underline;color:#0052a3;}a:visited{color:#6b46c1;}ul ul,ol ol,ul ol,ol ul{margin:0.5em 0;}textarea,input,button{font-family:inherit;font-size:1em;border:1px solid #d0d0d0;border-radius:4px;padding:0.5em;}textarea,input[type="text"],input[type="password"],input[type="email"]{width:100%;background-color:#fff;color:#333;box-sizing:border-box;margin:0.5em 0;}textarea{resize:vertical;min-height:4em;}button{background-color:#0066cc;color:#fff;border:none;cursor:pointer;padding:0.6em 1.2em;margin:0.5em 0.5em 0.5em 0;transition:background-color 0.2s ease;}button:hover{background-color:#0052a3;}button:active{background-color:#003d7a;}.post-list{margin:2em 0;padding:1.5em;background-color:#f9f9f9;border:1px solid #e5e5e5;border-radius:6px;}.post-entry{margin-bottom:2em;padding-bottom:1.5em;border-bottom:1px solid #e0e0e0;}.post-entry:last-of-type{border-bottom:none;}.post-entry h3{margin-top:0;margin-bottom:0.5em;}.post-entry h3 a{color:#333;}.post-entry h3 a:hover{color:#0066cc;}.post-entry time{display:block;color:#666;font-size:0.9em;margin-bottom:0.5em;}.post-entry p{margin:0.5em 0 0 0;color:#555;}.post-entry .file-icon{display:inline-block;vertical-align:middle;margin-right:0.25em;fill:#666;}.pagination{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin:2em 0 0 0;padding:1em 0 0 0;border-top:2px solid #d0d0d0;}.pagination .prev{grid-column:1;justify-self:start;}.pagination .page-info{grid-column:2;text-align:center;color:#666;font-size:0.9em;}.pagination .next{grid-column:3;justify-self:end;}.pagination a{padding:0.5em 1em;background-color:#0066cc;color:#fff;border-radius:4px;text-decoration:none;}.pagination a:hover{background-color:#0052a3;}@media print{body{max-width:none;}}@media (prefers-color-scheme:dark){body{color:#e0e0e0;background-color:#1a1a1a;}.code-block{background-color:#0d0d0d;border-color:#333;}.code-block pre{color:#e0e0e0;}pre{background-color:#1e1e1e;border-color:#333;color:#f2f2f2;white-space:pre-wrap;word-wrap:break-word;overflow-x:visible;}p code,li code,td code,blockquote code{background-color:#0d0d0d;border-color:#333;color:#e0e0e0;}table td,table th{border-color:#444;}table tr:nth-child(even){background-color:#111;}blockquote{border-left-color:#444;color:#aaa;}hr{border-top-color:#444;}mark{background-color:#666600;color:#fff;}a:link{color:#cdf;}a:hover,a:visited:hover{color:#def;}a:visited{color:#dcf;}.footnotes{border-top-color:#444;}.heading-anchor .octicon{fill:#555;}.heading-anchor:hover .octicon{fill:#cdf;}textarea,input[type="text"],input[type="password"],input[type="email"]{background-color:#0d0d0d;color:#e0e0e0;border-color:#444;}button{background-color:#0066cc;}button:hover{background-color:#3388dd;}button:active{background-color:#0052a3;}.post-list{background-color:#0d0d0d;border-color:#333;}.post-entry{border-bottom-color:#333;}.post-entry h3 a{color:#e0e0e0;}.post-entry h3 a:hover{color:#cdf;}.post-entry time{color:#999;}.post-entry p{color:#aaa;}.pagination{border-top-color:#444;}.pagination a{background-color:#0066cc;}.pagination a:hover{background-color:#3388dd;}.pagination .page-info{color:#999;}.post-entry .file-icon{fill:#999;}}
</style>
</head>
<body>
<div>

<h1 id="usage-reference" class="heading-with-anchor">Usage Reference<a href="#usage-reference" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h1>
<p>Complete command reference and API documentation for MPM - Mehr's Package Manager.
</p>
<h2 id="table-of-contents" class="heading-with-anchor">Table of Contents<a href="#table-of-contents" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<ul>
<li><a href="#request-formats">Request Formats</a>
</li>
<li><a href="#built-in-commands">Built-in Commands</a>
</li>
<li><a href="#package-manager">Package Manager</a>
</li>
<li><a href="#response-protocol">Response Protocol</a>
</li>
<li><a href="#configuration-files">Configuration Files</a>
</li>
<li><a href="#custom-commands">Custom Commands</a>
</li>
<li><a href="#architecture">Architecture</a>
</li>
<li><a href="#performance">Performance</a>
</li>
<li><a href="#troubleshooting">Troubleshooting</a>
</li></ul>
<hr />
<h2 id="request-formats" class="heading-with-anchor">Request Formats<a href="#request-formats" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="http-mode" class="heading-with-anchor">HTTP Mode<a href="#http-mode" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>Format:</strong></p>
<div class="code-block"><pre>
GET /shell.php/API_KEY/COMMAND/ARG0/ARG1/ARG2/...
</pre></div>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# Get API key
KEY=$(cat .config/key)

# List files
curl &quot;http://localhost/shell.php/$KEY/ls&quot;

# Read file
curl &quot;http://localhost/shell.php/$KEY/cat/README.md&quot;

# Echo with multiple arguments
curl &quot;http://localhost/shell.php/$KEY/echo/hello/world&quot;

# Package management
curl &quot;http://localhost/shell.php/$KEY/pkg/search/database&quot;
curl &quot;http://localhost/shell.php/$KEY/pkg/add/users&quot;
</pre></div>
<p><strong>Response:</strong></p>
<ul>
<li>Success: HTTP 200 with plain text response
</li>
<li>Error: HTTP 4xx/5xx with error message
</li></ul>
<h3 id="cli-mode" class="heading-with-anchor">CLI Mode<a href="#cli-mode" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>Format:</strong></p>
<div class="code-block" data-lang="bash"><pre>
php shell.php COMMAND ARG0 ARG1 ARG2 ...
</pre></div>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# List files
php shell.php ls

# Read file
php shell.php cat README.md

# Echo with multiple arguments
php shell.php echo hello world

# Package management
php shell.php pkg search database
php shell.php pkg add users
</pre></div>
<p><strong>Response:</strong></p>
<ul>
<li>Success: Output to STDOUT, exit code 0
</li>
<li>Error: Output to STDERR with "Error: " prefix, exit code 1
</li></ul>
<hr />
<h2 id="built-in-commands" class="heading-with-anchor">Built-in Commands<a href="#built-in-commands" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="ls-path" class="heading-with-anchor">ls [path]<a href="#ls-path" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>List directory contents.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>path</code> (optional): Directory to list (default: current directory)
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php ls
php shell.php ls app
php shell.php ls app/packages

# HTTP
curl &quot;http://localhost/shell.php/$KEY/ls&quot;
curl &quot;http://localhost/shell.php/$KEY/ls/app&quot;
</pre></div>
<p><strong>Output:</strong></p>
<p>Space-separated filenames (excludes <code>.</code> and <code>..</code>)
</p>
<p><strong>Errors:</strong></p>
<ul>
<li>404: Directory not found
</li>
<li>400: Cannot read directory
</li>
<li>403: Path validation failed (absolute path or <code>..</code>)
</li></ul>
<hr />
<h3 id="cat-file" class="heading-with-anchor">cat <file><a href="#cat-file" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Read file contents.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>file</code> (required): Path to file
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php cat README.md
php shell.php cat .config/key

# HTTP
curl &quot;http://localhost/shell.php/$KEY/cat/README.md&quot;
</pre></div>
<p><strong>Output:</strong></p>
<p>File contents (preserves formatting and newlines)
</p>
<p><strong>Errors:</strong></p>
<ul>
<li>400: Missing file argument or not a file
</li>
<li>404: File not found
</li>
<li>403: Path validation failed
</li></ul>
<hr />
<h3 id="rm-file" class="heading-with-anchor">rm <file><a href="#rm-file" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Delete file.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>file</code> (required): Path to file
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php rm temp.txt
php shell.php rm logs/old.log

# HTTP
curl &quot;http://localhost/shell.php/$KEY/rm/temp.txt&quot;
</pre></div>
<p><strong>Output:</strong></p>
<p>Empty string on success (POSIX behavior)
</p>
<p><strong>Errors:</strong></p>
<ul>
<li>400: Missing file argument, not a file, or cannot delete
</li>
<li>404: File not found
</li>
<li>403: Path validation failed
</li></ul>
<hr />
<h3 id="mkdir-path" class="heading-with-anchor">mkdir <path><a href="#mkdir-path" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Create directory (recursive).
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>path</code> (required): Directory path to create
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php mkdir uploads
php shell.php mkdir app/data/cache

# HTTP
curl &quot;http://localhost/shell.php/$KEY/mkdir/uploads&quot;
</pre></div>
<p><strong>Output:</strong></p>
<p>Empty string on success
</p>
<p><strong>Errors:</strong></p>
<ul>
<li>400: Missing path argument, already exists, or cannot create
</li>
<li>403: Path validation failed
</li></ul>
<hr />
<h3 id="cp-src-dst" class="heading-with-anchor">cp <src> <dst><a href="#cp-src-dst" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Copy file.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>src</code> (required): Source file path
</li>
<li><code>dst</code> (required): Destination file path
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php cp config.json config.backup.json
php shell.php cp README.md docs/README.md

# HTTP
curl &quot;http://localhost/shell.php/$KEY/cp/config.json/config.backup.json&quot;
</pre></div>
<p><strong>Output:</strong></p>
<p>Empty string on success
</p>
<p><strong>Errors:</strong></p>
<ul>
<li>400: Missing arguments, source not a file, or cannot copy
</li>
<li>404: Source file not found
</li>
<li>403: Path validation failed
</li></ul>
<hr />
<h3 id="echo-text" class="heading-with-anchor">echo <text>...<a href="#echo-text" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Echo text arguments.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>text...</code> (required): One or more text arguments
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php echo hello
php shell.php echo hello world &quot;from shell&quot;

# HTTP
curl &quot;http://localhost/shell.php/$KEY/echo/hello&quot;
curl &quot;http://localhost/shell.php/$KEY/echo/hello/world&quot;
</pre></div>
<p><strong>Output:</strong></p>
<p>Space-separated arguments
</p>
<hr />
<h3 id="env-action-name" class="heading-with-anchor">env [action] [name]<a href="#env-action-name" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Manage environment variables.
</p>
<p><strong>Actions:</strong></p>
<ul>
<li><code>list</code> (default): List all environment variables
</li>
<li><code>get <name></code>: Get specific variable value
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php env list
php shell.php env get PATH
php shell.php env get HOME

# HTTP
curl &quot;http://localhost/shell.php/$KEY/env/list&quot;
curl &quot;http://localhost/shell.php/$KEY/env/get/PATH&quot;
</pre></div>
<p><strong>Output:</strong></p>
<ul>
<li><code>list</code>: One variable per line (<code>KEY=value</code>)
</li>
<li><code>get</code>: Variable value only
</li></ul>
<p><strong>Errors:</strong></p>
<ul>
<li>404: Variable not found or unknown action
</li>
<li>400: Missing variable name for <code>get</code>
</li></ul>
<hr />
<h2 id="package-manager" class="heading-with-anchor">Package Manager<a href="#package-manager" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="pkg-add-package" class="heading-with-anchor">pkg add [PACKAGE...]<a href="#pkg-add-package" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Install packages with automatic dependency resolution.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>PACKAGE...</code> (required): One or more package names
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg add users
php shell.php pkg add users auth database

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/add/users&quot;
curl &quot;http://localhost/shell.php/$KEY/pkg/add/users/auth&quot;
</pre></div>
<p><strong>Process:</strong></p>
<ol>
<li>Fetch repository database
</li>
<li>Resolve dependencies (DFS topological sort)
</li>
<li>Download all packages with checksum verification
</li>
<li>Extract all packages to project root
</li>
<li>Register packages atomically
</li></ol>
<p><strong>Output:</strong></p>
<div class="code-block"><pre>
Packages to install: dependency1, dependency2, users

Downloading packages...
All packages downloaded and verified

Extracting packages...
Extracted dependency1 (1.0.0)
Extracted dependency2 (2.0.0)
Extracted users (3.0.0)

Registering packages...

Successfully installed 3 package(s): dependency1, dependency2, users
</pre></div>
<p><strong>Errors:</strong></p>
<ul>
<li>404: Package not found
</li>
<li>400: Circular dependency detected
</li>
<li>503: All mirrors failed or lock held
</li></ul>
<hr />
<h3 id="pkg-del-package" class="heading-with-anchor">pkg del <PACKAGE><a href="#pkg-del-package" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Remove package (fails if other packages depend on it).
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>PACKAGE</code> (required): Package name
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg del users

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/del/users&quot;
</pre></div>
<p><strong>Output:</strong></p>
<div class="code-block"><pre>
Removed package: users (version 1.0.0) - 15 files deleted, 3 empty directories removed
</pre></div>
<p><strong>Errors:</strong></p>
<ul>
<li>404: Package not installed
</li>
<li>400: Package required by other packages
</li>
<li>503: Lock held
</li></ul>
<hr />
<h3 id="pkg-upgrade-package" class="heading-with-anchor">pkg upgrade [PACKAGE]<a href="#pkg-upgrade-package" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Upgrade all packages or specific package to latest version.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>PACKAGE</code> (optional): Package name (if omitted, upgrades all)
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg upgrade           # Upgrade all
php shell.php pkg upgrade users     # Upgrade specific

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/upgrade&quot;
curl &quot;http://localhost/shell.php/$KEY/pkg/upgrade/users&quot;
</pre></div>
<p><strong>Output:</strong></p>
<div class="code-block"><pre>
Will upgrade users from 1.0.0 to 1.1.0

Downloading package updates...
All package updates downloaded and verified

Extracting package updates...
Extracted users upgrade to 1.1.0

Registering upgrades...

Successfully upgraded 1 package(s): users
</pre></div>
<hr />
<h3 id="pkg-update" class="heading-with-anchor">pkg update<a href="#pkg-update" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Refresh repository cache (fetch latest package database).
</p>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg update

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/update&quot;
</pre></div>
<p><strong>Output:</strong></p>
<div class="code-block"><pre>
Repository cache refreshed - 42 packages available
</pre></div>
<hr />
<h3 id="pkg-list-filter" class="heading-with-anchor">pkg list [FILTER]<a href="#pkg-list-filter" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>List installed packages.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>FILTER</code> (optional): Filter by package name (case-insensitive)
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg list
php shell.php pkg list auth

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/list&quot;
curl &quot;http://localhost/shell.php/$KEY/pkg/list/auth&quot;
</pre></div>
<p><strong>Output:</strong></p>
<div class="code-block"><pre>
Installed packages:

  users                 v1.0.0      installed: 2025-01-15
  auth                  v2.0.0      installed: 2025-01-15 (depends: users)
  database              v1.5.0      installed: 2025-01-15 (depends: users)
</pre></div>
<hr />
<h3 id="pkg-search-keyword" class="heading-with-anchor">pkg search <KEYWORD><a href="#pkg-search-keyword" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Search available packages.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>KEYWORD</code> (required): Search term
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg search database

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/search/database&quot;
</pre></div>
<p><strong>Output:</strong></p>
<div class="code-block"><pre>
Found 3 packages:

  mysql-driver          v1.0.0      MySQL Database Driver [installed]
    Provides MySQL connectivity for applications

  postgres-driver       v1.0.0      PostgreSQL Driver
    PostgreSQL database connector

  database-tools        v2.0.0      Database Management Tools
    Common database utilities and helpers
</pre></div>
<hr />
<h3 id="pkg-info-package" class="heading-with-anchor">pkg info <PACKAGE><a href="#pkg-info-package" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Show detailed package information.
</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>PACKAGE</code> (required): Package name
</li></ul>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg info users

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/info/users&quot;
</pre></div>
<p><strong>Output:</strong></p>
<div class="code-block"><pre>
Package: User Management System
ID: users
Latest: 1.0.0
Description: Complete user management with authentication
Author: Mehrnet Team
License: MIT

Installed: v1.0.0 (on 2025-01-15T10:30:00Z)
Dependencies: none

Available versions:
  v1.0.0 - released: 2025-01-15
  v0.9.0 - released: 2025-01-01 (requires: auth-lib)
</pre></div>
<p><strong>Errors:</strong></p>
<ul>
<li>404: Package not found in repository
</li></ul>
<hr />
<h3 id="pkg-unlock" class="heading-with-anchor">pkg unlock<a href="#pkg-unlock" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Force remove lock file (for manual recovery).
</p>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg unlock

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/unlock&quot;
</pre></div>
<p><strong>Output:</strong></p>
<p>Empty string on success
</p>
<p><strong>When to use:</strong></p>
<p>If a package operation crashes, the lock file may remain. This command removes it.
</p>
<hr />
<h3 id="pkg-help" class="heading-with-anchor">pkg help<a href="#pkg-help" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Show package manager help.
</p>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg help

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/help&quot;
</pre></div>
<hr />
<h3 id="pkg-version" class="heading-with-anchor">pkg version<a href="#pkg-version" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Show package manager version.
</p>
<p><strong>Examples:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# CLI
php shell.php pkg version

# HTTP
curl &quot;http://localhost/shell.php/$KEY/pkg/version&quot;
</pre></div>
<hr />
<h2 id="response-protocol" class="heading-with-anchor">Response Protocol<a href="#response-protocol" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="http-status-codes" class="heading-with-anchor">HTTP Status Codes<a href="#http-status-codes" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<table>
<tr><td>Code</td><td>Meaning</td></tr>
<tr><td>200</td><td>Success</td></tr>
<tr><td>400</td><td>Bad Request (invalid arguments, operational errors)</td></tr>
<tr><td>403</td><td>Forbidden (invalid API key, path validation failed)</td></tr>
<tr><td>404</td><td>Not Found (command, package, or file not found)</td></tr>
<tr><td>503</td><td>Service Unavailable (all mirrors failed, lock held)</td></tr>
</table>
<h3 id="cli-exit-codes" class="heading-with-anchor">CLI Exit Codes<a href="#cli-exit-codes" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<table>
<tr><td>Code</td><td>Meaning</td></tr>
<tr><td>0</td><td>Success</td></tr>
<tr><td>1</td><td>Error (any type)</td></tr>
</table>
<h3 id="posix-semantics" class="heading-with-anchor">POSIX Semantics<a href="#posix-semantics" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul>
<li>Commands with output return data
</li>
<li>Commands without output return empty string (but still exit 0/200)
</li>
<li>Errors throw exceptions with appropriate codes
</li></ul>
<hr />
<h2 id="configuration-files" class="heading-with-anchor">Configuration Files<a href="#configuration-files" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="config-key" class="heading-with-anchor">.config/key<a href="#config-key" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Plain text file containing 64-character hex API key.
</p>
<p><strong>Format:</strong></p>
<div class="code-block"><pre>
abc123def456789...  (64 hex characters)
</pre></div>
<p><strong>Generation:</strong></p>
<div class="code-block" data-lang="php"><pre>
$key = bin2hex(random_bytes(32));
</pre></div>
<p><strong>Security:</strong></p>
<ul>
<li>Auto-generated on first run
</li>
<li>Used for HTTP authentication
</li>
<li>Auto-loaded for CLI mode
</li>
<li>Timing-safe comparison via <code>hash_equals()</code>
</li></ul>
<hr />
<h3 id="config-repos-json" class="heading-with-anchor">.config/repos.json<a href="#config-repos-json" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Repository mirrors configuration.
</p>
<p><strong>Format:</strong></p>
<div class="code-block" data-lang="json"><pre>
{
  &quot;main&quot;: [
    &quot;https://primary-mirror.com/packages&quot;,
    &quot;https://secondary-mirror.com/packages&quot;
  ],
  &quot;extra&quot;: [
    &quot;https://extra-repo.com/packages&quot;
  ]
}
</pre></div>
<p><strong>Mirror Selection:</strong></p>
<ul>
<li>Mirrors tried sequentially in array order
</li>
<li>No backoff delay on failure
</li>
<li>First successful mirror wins
</li></ul>
<hr />
<h3 id="config-packages-json" class="heading-with-anchor">.config/packages.json<a href="#config-packages-json" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Installed packages registry.
</p>
<p><strong>Format:</strong></p>
<div class="code-block" data-lang="json"><pre>
{
  &quot;createdAt&quot;: &quot;2025-01-15T10:00:00Z&quot;,
  &quot;updatedAt&quot;: &quot;2025-01-15T10:30:00Z&quot;,
  &quot;packages&quot;: {
    &quot;users&quot;: {
      &quot;version&quot;: &quot;1.0.0&quot;,
      &quot;installed_at&quot;: &quot;2025-01-15T10:30:00Z&quot;,
      &quot;dependencies&quot;: [],
      &quot;files&quot;: [
        &quot;./app/packages/users/handler.php&quot;,
        &quot;./app/packages/users/module.php&quot;
      ],
      &quot;download_url&quot;: &quot;https://mirror.com/users-1.0.0.zip&quot;,
      &quot;download_time&quot;: &quot;2025-01-15T10:29:00Z&quot;,
      &quot;checksum&quot;: &quot;sha256:abc123...&quot;,
      &quot;repository&quot;: &quot;main&quot;
    }
  }
}
</pre></div>
<p><strong>Metadata:</strong></p>
<ul>
<li><code>createdAt</code>: Registry creation time
</li>
<li><code>updatedAt</code>: Last modification time
</li>
<li><code>files</code>: Array of installed file paths (for removal)
</li>
<li><code>download_url</code>: Source mirror used
</li>
<li><code>checksum</code>: Verified checksum
</li></ul>
<hr />
<h3 id="config-path-json" class="heading-with-anchor">.config/path.json<a href="#config-path-json" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Command handler discovery patterns.
</p>
<p><strong>Format:</strong></p>
<div class="code-block" data-lang="json"><pre>
[
  &quot;app/packages/[name]/handler.php&quot;,
  &quot;bin/[name].php&quot;
]
</pre></div>
<p><strong>Pattern Matching:</strong></p>
<ul>
<li><code>[name]</code> replaced with command name
</li>
<li>Patterns searched in array order
</li>
<li>First match wins
</li></ul>
<p><strong>Example:</strong></p>
<p>Command <code>users</code> searches:</p>
<ol>
<li><code>app/packages/users/handler.php</code>
</li>
<li><code>bin/users.php</code>
</li></ol>
<hr />
<h2 id="custom-commands" class="heading-with-anchor">Custom Commands<a href="#custom-commands" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="handler-format" class="heading-with-anchor">Handler Format<a href="#handler-format" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Handlers are PHP files returning a callable:</p>
<div class="code-block" data-lang="php"><pre>
&lt;?php
return function(array $args): string {
    // Process arguments
    // Return response or throw exception
    return &quot;output&quot;;
};
</pre></div>
<h3 id="argument-processing" class="heading-with-anchor">Argument Processing<a href="#argument-processing" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>HTTP Mode:</strong></p>
<div class="code-block"><pre>
GET /shell.php/KEY/mycommand/action/arg1/arg2
                                        
                  command   args[0] [1]  [2]
</pre></div>
<p><strong>CLI Mode:</strong></p>
<div class="code-block" data-lang="bash"><pre>
php shell.php mycommand action arg1 arg2
                                 
           command   args[0] [1]  [2]
</pre></div>
<p><strong>Handler receives:</strong></p>
<div class="code-block" data-lang="php"><pre>
function(array $args): string {
    $action = $args[0];  // 'action'
    $arg1 = $args[1];    // 'arg1'
    $arg2 = $args[2];    // 'arg2'
}
</pre></div>
<h3 id="error-handling" class="heading-with-anchor">Error Handling<a href="#error-handling" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Throw exceptions with HTTP status codes:</p>
<div class="code-block" data-lang="php"><pre>
// Bad request
throw new \RuntimeException('Invalid input', 400);

// Not found
throw new \RuntimeException('Item not found', 404);

// Forbidden
throw new \RuntimeException('Permission denied', 403);
</pre></div>
<p><strong>Note:</strong> CLI mode converts all error codes to exit code 1.</p>
<h3 id="example-handler" class="heading-with-anchor">Example Handler<a href="#example-handler" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<div class="code-block" data-lang="php"><pre>
&lt;?php
return function(array $args): string {
    $action = $args[0] ?? 'help';

    switch ($action) {
        case 'list':
            // Read data
            $data = json_decode(
                file_get_contents('app/data/items.json'),
                true
            );
            return json_encode($data);

        case 'get':
            $id = $args[1] ?? null;
            if (!$id) {
                throw new \RuntimeException('ID required', 400);
            }
            // Fetch item
            return &quot;Item: $id&quot;;

        case 'create':
            $name = $args[1] ?? null;
            if (!$name) {
                throw new \RuntimeException('Name required', 400);
            }
            // Create item
            return &quot;Created: $name&quot;;

        case 'help':
            return &quot;Actions: list, get &lt;id&gt;, create &lt;name&gt;&quot;;

        default:
            throw new \RuntimeException(&quot;Unknown action: $action&quot;, 404);
    }
};
</pre></div>
<hr />
<h2 id="architecture" class="heading-with-anchor">Architecture<a href="#architecture" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="file-structure" class="heading-with-anchor">File Structure<a href="#file-structure" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<div class="code-block"><pre>
.
 shell.php              # Main executable (2300 lines)
 .config/               # Configuration (auto-created)
    key                # API key
    repos.json         # Repository mirrors
    packages.json      # Installed packages
    path.json          # Handler patterns
 .cache/                # Cache (auto-created)
    shell.lock         # Lock file
    *.zip              # Downloaded packages
 app/packages/          # Installed packages
     [package]/
         handler.php
</pre></div>
<h3 id="execution-flow" class="heading-with-anchor">Execution Flow<a href="#execution-flow" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<div class="code-block"><pre>
1. Runtime Detection (HTTP/CLI)
   
2. Initialize Config Files
   
3. Parse Request (PATH_INFO or argv)
   
4. Validate API Key
   
5. Execute Command
    Built-in Command
    Package Manager
    Custom Handler
   
6. Send Response (HTTP headers or STDOUT/STDERR)
</pre></div>
<h3 id="package-manager-flow" class="heading-with-anchor">Package Manager Flow<a href="#package-manager-flow" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>Installation:</strong></p>
<div class="code-block"><pre>
1. Resolve Dependencies (DFS topological sort)
   
2. Download All Packages (with checksum verification)
   
3. Extract All Packages (with conflict resolution)
   
4. Register in .config/packages.json (atomic)
</pre></div>
<p><strong>Key Features:</strong></p>
<ul>
<li><strong>Dependency Resolution:</strong> O(V + E) complexity
</li>
<li><strong>Circular Detection:</strong> O(1) set lookups
</li>
<li><strong>Checksum Verification:</strong> SHA256 with timing-safe comparison
</li>
<li><strong>Mirror Failover:</strong> Sequential retry, no backoff
</li>
<li><strong>Atomic Operations:</strong> All-or-nothing installations
</li>
<li><strong>Conflict Resolution:</strong> Existing files renamed with <code>-2</code>, <code>-3</code>, etc.
</li></ul>
<h3 id="security-model" class="heading-with-anchor">Security Model<a href="#security-model" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ol>
<li><strong>Authentication:</strong>
<ul>
<li>64-character random API key
</li>
<li><code>hash_equals()</code> timing-safe comparison
</li>
<li>Auto-loaded in CLI mode
</li></ul>
</li>
<li><strong>Path Validation:</strong>
<ul>
<li>Blocks absolute paths (<code>/etc/passwd</code>)
</li>
<li>Blocks directory traversal (<code>../../../</code>)
</li>
<li>Applied to all file operations
</li></ul>
</li>
<li><strong>Package Security:</strong>
<ul>
<li>SHA256 checksum verification
</li>
<li>Zip traversal detection
</li>
<li>HTTPS mirror enforcement
</li></ul>
</li></ol>
<hr />
<h2 id="performance" class="heading-with-anchor">Performance<a href="#performance" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="benchmarks" class="heading-with-anchor">Benchmarks<a href="#benchmarks" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul>
<li><strong>Application execution:</strong> <1ms (measured via profiling)
</li>
<li><strong>Built-in server overhead:</strong> 1000ms+ (use proper web server in production)
</li>
<li><strong>Package download:</strong> Depends on network and mirror speed
</li>
<li><strong>Dependency resolution:</strong> O(V + E) where V = packages, E = dependencies
</li></ul>
<h3 id="optimization-tips" class="heading-with-anchor">Optimization Tips<a href="#optimization-tips" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ol>
<li><strong>Use production web server</strong> (Nginx, Apache)
</li>
<li><strong>Enable PHP opcode cache</strong> (OPcache)
</li>
<li><strong>Use CDN for package mirrors</strong>
</li>
<li><strong>Minimize custom handler complexity</strong>
</li>
<li><strong>Cache package database locally</strong>
</li></ol>
<hr />
<h2 id="troubleshooting" class="heading-with-anchor">Troubleshooting<a href="#troubleshooting" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="invalid-api-key" class="heading-with-anchor">"Invalid API key"<a href="#invalid-api-key" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>HTTP 403</strong>
</p>
<p><strong>Cause:</strong> Missing or incorrect API key</p>
<p><strong>Solution:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# Check key
cat .config/key

# Regenerate key (delete and run again)
rm .config/key
php shell.php ls
</pre></div>
<hr />
<h3 id="api-key-not-found-cli" class="heading-with-anchor">"API key not found" (CLI)<a href="#api-key-not-found-cli" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>Exit code 1</strong>
</p>
<p><strong>Cause:</strong> <code>.config/key</code> file doesn't exist</p>
<p><strong>Solution:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# Initialize shell
php shell.php ls
</pre></div>
<hr />
<h3 id="command-not-found" class="heading-with-anchor">"Command not found"<a href="#command-not-found" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>HTTP 404 / Exit code 1</strong>
</p>
<p><strong>Cause:</strong> Handler file not found</p>
<p><strong>Solution:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# Check handler patterns
cat .config/path.json

# Verify handler exists
ls app/packages/[command]/handler.php
ls bin/[command].php
</pre></div>
<hr />
<h3 id="another-pkg-operation-is-in-progress" class="heading-with-anchor">"Another pkg operation is in progress"<a href="#another-pkg-operation-is-in-progress" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>HTTP 503 / Exit code 1</strong>
</p>
<p><strong>Cause:</strong> Lock file exists</p>
<p><strong>Solution:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# Wait for operation to complete, or force unlock
php shell.php pkg unlock

# Or manually remove
rm .cache/shell.lock
</pre></div>
<hr />
<h3 id="package-not-found" class="heading-with-anchor">"Package not found"<a href="#package-not-found" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>HTTP 404 / Exit code 1</strong>
</p>
<p><strong>Cause:</strong> Package not in repository</p>
<p><strong>Solution:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# Refresh repository cache
php shell.php pkg update

# Search for package
php shell.php pkg search keyword
</pre></div>
<hr />
<h3 id="circular-dependency" class="heading-with-anchor">"Circular dependency"<a href="#circular-dependency" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>HTTP 400 / Exit code 1</strong>
</p>
<p><strong>Cause:</strong> Package dependency cycle (A  B  C  A)</p>
<p><strong>Solution:</strong></p>
<p>Review package dependencies and remove the cycle. This is a package repository issue.
</p>
<hr />
<h3 id="cannot-remove-required-by" class="heading-with-anchor">"Cannot remove - required by"<a href="#cannot-remove-required-by" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>HTTP 400 / Exit code 1</strong>
</p>
<p><strong>Cause:</strong> Other packages depend on the target package</p>
<p><strong>Solution:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# Remove dependent packages first
php shell.php pkg del dependent-package
php shell.php pkg del target-package
</pre></div>
<hr />
<h3 id="permission-errors" class="heading-with-anchor">Permission Errors<a href="#permission-errors" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p><strong>Cause:</strong> File system permissions</p>
<p><strong>Solution:</strong></p>
<div class="code-block" data-lang="bash"><pre>
# Fix permissions
chmod 755 .
chmod 644 shell.php
chmod 755 .config
chmod 644 .config/*
chmod 755 .cache
</pre></div>
<hr />
<h2 id="see-also" class="heading-with-anchor">See Also<a href="#see-also" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<ul>
<li><strong><a href="INSTALL.md">Installation Guide</a></strong> - Setup and configuration
</li>
<li><strong><a href="PACKAGES.md">Package Development</a></strong> - Creating packages
</li>
<li><strong><a href="https://github.com/mehrnet/mpm">GitHub Repository</a></strong> - Source code
</li></ul>
<hr />
<p>For questions or issues, please visit: https://github.com/mehrnet/mpm/issues</p>

</div>
</body>
</html>
